í˜„ì¬ íŒŒì•…ëœ ì‘ì—… ê³„íšì„ ë°”íƒ•ìœ¼ë¡œ, ì„¸ë¶€ì ìœ¼ë¡œ ì–´ë–¤ ì‘ì—…ì„ êµ¬ì„±í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ê³„íšì´ í•„ìš”í•©ë‹ˆë‹¤. í¬ê²ŒëŠ” 1. LangGraph ì—ì´ì „íŠ¸ 
ê°œë°œ ë° LangGraph Platform(cli: langgraph-dev) ë¡œì˜ ì‚¬ëŒì— ì˜í•œ í…ŒìŠ¤íŠ¸ 2. MCP ì„œë²„ ê°œë°œ(FastMCP ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©) ëª©ì ì€ 
LangGraph ì—ì´ì „íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²€ìƒ‰ ë„êµ¬ë¥¼ ë§Œë“œëŠ” ê²ƒìœ¼ë¡œ í¬ê²ŒëŠ” LangConnect API ë¥¼ í™œìš©í•˜ëŠ” ê¸°ëŠ¥(pg_vector - VectorDB) ê³¼ 
TavilyWebSearch ë¥¼ ì´ìš©í•œ ì›¹ê²€ìƒ‰ 2ê°€ì§€ ê¸°ëŠ¥ì„ ì§€ì›í•  ê³„íšì´ì•¼. --- 1,2 ì‘ì—…ì€ ì„œë¡œ ì—°ê´€ì´ ìˆìœ¼ë‹ˆ ê°ê° ê°œë°œë˜ê³  ì—°ê²°ë˜ê±°ë‚˜ ë˜ëŠ”
1ë¨¼ì € í•˜ê³  2ë²ˆí•´ì„œ ì—°ë™í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì•ˆì •ì ìœ¼ë¡œ ê°€ë„ ê´œì°®ê² ì–´.  --- 3. (1,2) ì‘ì—…ì´ ì™„ë£Œëœ í›„ LangGraph ë ˆë²¨ì—ì„œ ê° 
ì—ì´ì „íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤ê³  íŒë‹¨ë˜ë©´ ì´ì œëŠ” ê° LangGraph Agent ë¥¼ A2A Agent ë¡œ ê°ì‹¸ëŠ” ì‘ì—…ì´ì•¼. A2A Server ë¡œ 
ë™ì‘í•´ì•¼ë˜ë‹ˆê¹ /docs í•˜ìœ„ì— ìˆëŠ” a2a-python ë¬¸ì„œë¥¼ ì˜ ì°¸ê³ í•´ì„œ ì§„í–‰í•´ì•¼ê² ì§€? --- 4. ê·¸ëŸ¬ê³  ë‚˜ë©´ A2A Client ë¥¼ Google ADK ë¡œ 
ê°œë°œí•´ì„œ ìµœì¢…ì ìœ¼ë¡œ ëª¨ë“  A2A Server ì™€ í†µì‹ ì´ ì˜ ë˜ëŠ”ì§€ ì‚¬ëŒì— ì˜í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìœ¼ë©´ ëì¼ ê²ƒ ê°™ì•„.  ìµœì¢… ê²°ê³¼ë¬¼ì€ 
LangGraph Agent 3ê°œ(ê³„íš ìˆ˜ë¦½, ìë£Œì¡°ì‚¬, ê¸€ì“°ê¸°) ì¼ê²ƒì´ê³  ìë£Œì¡°ì‚¬ AgentëŠ”  MCP ì„œë²„ì™€ í†µì‹ ì´ 
ê°€ëŠ¥í•´ì•¼ë˜ë©°(langchain-mcp-adapters ë¥¼ í™œìš©) ê° Agent ëŠ” ë˜í•œ A2A Server ë¡œì¨ ì—­í• ë„ í•´ì•¼ê² ì§€. ì‚¬ìš©ìì™€ ì†Œí†µ ê°€ëŠ¥í•œ A2A Client
ë¡œ Google ADK ë¡œ êµ¬ì„±ëœ UnifiedResearch Agent ê°€ Client ë¡œ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë°›ê³  ê° ì—ì´ì „íŠ¸ì— ì‘ì—…ì„ í• ë‹¹í•˜ëŠ” ì—­í• ë„ í•˜ê²Œ 
ë ê±°ì•¼.  ë‹¤ì–‘í•œ ë¬¸ì„œì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ê³ í•´ì•¼ë˜ê³  ì£¼ë¡œ /docs ì— ë„£ì–´ë‘ì—ˆìœ¼ë‹ˆ ì˜ ì°¸ê³ í•˜ë„ë¡ í•´. ê³„íšì€ ì•„ì£¼ êµ¬ì²´ì ìœ¼ë¡œ 
ì‘ì„±í•´ì•¼ë˜ë©° ê°€ì¥ ìµœì‹ ì˜ ë¬¸ì„œë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ í•„ìš”í•˜ë‹¤ë©´ ì›¹ê²€ìƒ‰ë„ ìˆ˜í–‰í•´ë„ ì¢‹ì•„.

---

TTimes Guide Coding í”„ë¡œì íŠ¸ êµ¬í˜„ ê³„íš

     ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

     ì›¹ ê²€ìƒ‰ê³¼ ë³´ê³ ì„œ ì‘ì„±ì„ ìë™í™”í•˜ëŠ” LangGraph ê¸°ë°˜ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•

     ğŸ“‹ ì‘ì—… ê³„íš

     Phase 1: LangGraph ì—ì´ì „íŠ¸ ê°œë°œ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

     1.1 Planning Agent (ê³„íš ìˆ˜ë¦½ ì—ì´ì „íŠ¸)

     ìœ„ì¹˜: /agents/agent/planning_agent.py
     - ì—­í• : ì‚¬ìš©ì ìš”ì²­ì„ ë¶„ì„í•˜ê³  ì‘ì—… ê³„íš ìˆ˜ë¦½
     - ì£¼ìš” ë…¸ë“œ:
       - analyze_request: ìš”ì²­ ë¶„ì„ ë° ì˜ë„ íŒŒì•…
       - create_plan: ì‹¤í–‰ ê³„íš ìƒì„±
       - delegate_tasks: ë‹¤ë¥¸ ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—… í• ë‹¹
     - êµ¬í˜„ ì‚¬í•­:
       - BaseAgent ìƒì†
       - Supervisor íŒ¨í„´ ì ìš©
       - ì‘ì—… ë¶„ë°° ë¡œì§ êµ¬í˜„

     1.2 Research Agent (ìë£Œì¡°ì‚¬ ì—ì´ì „íŠ¸)

     ìœ„ì¹˜: /agents/agent/research_agent.py
     - ì—­í• : ì›¹ ê²€ìƒ‰ê³¼ ë²¡í„° DB ê²€ìƒ‰ì„ í†µí•œ ì •ë³´ ìˆ˜ì§‘
     - ì£¼ìš” ë…¸ë“œ:
       - search_web: Tavily APIë¥¼ í†µí•œ ì›¹ ê²€ìƒ‰
       - search_vector: LangConnectë¥¼ í†µí•œ ë²¡í„° ê²€ìƒ‰
       - aggregate_results: ê²€ìƒ‰ ê²°ê³¼ í†µí•© ë° ì •ë¦¬
     - êµ¬í˜„ ì‚¬í•­:
       - MCP ì„œë²„ ì—°ë™ (langchain-mcp-adapters ì‚¬ìš©)
       - ê²€ìƒ‰ ê²°ê³¼ í’ˆì§ˆ í‰ê°€
       - ì¤‘ë³µ ì œê±° ë° ê´€ë ¨ì„± ìˆœìœ„ ì •ë ¬

     1.3 Report Writing Agent (ë³´ê³ ì„œ ì‘ì„± ì—ì´ì „íŠ¸)

     ìœ„ì¹˜: /agents/agent/report_writing_agent.py
     - ì—­í• : ìˆ˜ì§‘ëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ êµ¬ì¡°í™”ëœ ë³´ê³ ì„œ ìƒì„±
     - ì£¼ìš” ë…¸ë“œ:
       - structure_content: ì½˜í…ì¸  êµ¬ì¡°í™”
       - write_sections: ì„¹ì…˜ë³„ ì‘ì„±
       - review_quality: í’ˆì§ˆ ê²€í†  ë° ê°œì„ 
     - êµ¬í˜„ ì‚¬í•­:
       - ë§ˆí¬ë‹¤ìš´ í˜•ì‹ ë³´ê³ ì„œ ìƒì„±
       - ì¸ìš© ë° ì°¸ì¡° ê´€ë¦¬
       - ë°˜ë³µì  ê°œì„  ë©”ì»¤ë‹ˆì¦˜

     Phase 2: MCP ì„œë²„ ê°œë°œ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

     2.1 All-Search MCP Server

     ìœ„ì¹˜: /all-search-mcp/server.py
     - FastMCP 2.0 í™œìš©
     - í†µí•© ê²€ìƒ‰ ë„êµ¬ ì œê³µ:
     @mcp.tool()
     async def search_web(query: str, max_results: int = 5) -> list[dict]:
         """Tavily APIë¥¼ í†µí•œ ì›¹ ê²€ìƒ‰"""
         
     @mcp.tool()
     async def search_vector(query: str, collection: str, top_k: int = 5) -> list[dict]:
         """LangConnectë¥¼ í†µí•œ ë²¡í„° ê²€ìƒ‰"""
     - í™˜ê²½ ì„¤ì •:
       - Transport: streamable_http
       - í¬íŠ¸: 8090
       - ì¸ì¦: API Key ê¸°ë°˜

     Phase 3: LangGraph-MCP ì—°ë™ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

     3.1 MCP í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

     # agents/tools/mcp_client.py
     client = MultiServerMCPClient({
         "search": {
             "url": "http://localhost:8090/mcp/",
             "transport": "streamable_http",
             "headers": {"Authorization": f"Bearer {API_KEY}"}
         }
     })

     3.2 ë„êµ¬ í†µí•©

     - Research Agentì— MCP ë„êµ¬ ì—°ê²°
     - ë¹„ë™ê¸° ê²€ìƒ‰ ë° ìŠ¤íŠ¸ë¦¬ë° ì§€ì›
     - ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§

     Phase 4: A2A ì„œë²„ ë³€í™˜ (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)

     4.1 ê° LangGraph ì—ì´ì „íŠ¸ë¥¼ A2A ì„œë²„ë¡œ ë˜í•‘

     ìœ„ì¹˜: /agents/a2a_servers/
     - AgentCard ì •ì˜:
       - ê° ì—ì´ì „íŠ¸ì˜ ëŠ¥ë ¥ ëª…ì„¸
       - ì…ì¶œë ¥ ìŠ¤í‚¤ë§ˆ ì •ì˜
       - ë³´ì•ˆ ì„¤ì •
     - êµ¬í˜„ êµ¬ì¡°:
     # planning_a2a_server.py
     class PlanningA2AServer(DefaultRequestHandler):
         def __init__(self):
             self.agent = PlanningAgent()
             self.agent_card = AgentCard(
                 name="planning_agent",
                 skills=[...],
                 input_modes=["text", "json"],
                 output_modes=["json", "structured"]
             )

     4.2 í¬íŠ¸ í• ë‹¹

     - Planning Agent: 8003
     - Research Agent: 8001  
     - Report Writing Agent: 8004

     Phase 5: Google ADK í´ë¼ì´ì–¸íŠ¸ (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)

     5.1 UnifiedResearch Agent

     ìœ„ì¹˜: /a2a_client/unified_research_agent.py
     - Google ADK ê¸°ë°˜ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
     - ì›ê²© A2A ì—ì´ì „íŠ¸ ì—°ê²°:
     planning_agent = RemoteA2aAgent(
         agent_url="http://localhost:8003/a2a/planning",
         agent_card_path="/v1/card"
     )

     research_agent = RemoteA2aAgent(
         agent_url="http://localhost:8001/a2a/research",
         agent_card_path="/v1/card"
     )

     5.2 ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤

     - ADK Web UI í™œìš©
     - ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì§€ì›
     - Human-in-the-loop êµ¬í˜„

     ğŸ§ª í…ŒìŠ¤íŠ¸ ê³„íš

     ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸

     1. ê°œë³„ LangGraph ì—ì´ì „íŠ¸ í…ŒìŠ¤íŠ¸
       - langgraph dev ëª…ë ¹ì–´ë¡œ ê° ì—ì´ì „íŠ¸ í…ŒìŠ¤íŠ¸
       - LangGraph Studio (http://localhost:8123) í™œìš©
     2. MCP ì„œë²„ í…ŒìŠ¤íŠ¸
       - FastMCP ë‚´ì¥ í…ŒìŠ¤íŠ¸ ë„êµ¬ í™œìš©
       - ê²€ìƒ‰ ê¸°ëŠ¥ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
     3. í†µí•© í…ŒìŠ¤íŠ¸
       - Docker Composeë¡œ ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰
       - ì—”ë“œíˆ¬ì—”ë“œ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

     ğŸ“ ìµœì¢… í”„ë¡œì íŠ¸ êµ¬ì¡°

     ttimes_guide_coding/
     â”œâ”€â”€ agents/
     â”‚   â”œâ”€â”€ agent/
     â”‚   â”‚   â”œâ”€â”€ planning_agent.py
     â”‚   â”‚   â”œâ”€â”€ research_agent.py
     â”‚   â”‚   â””â”€â”€ report_writing_agent.py
     â”‚   â”œâ”€â”€ a2a_servers/
     â”‚   â”‚   â”œâ”€â”€ planning_a2a_server.py
     â”‚   â”‚   â”œâ”€â”€ research_a2a_server.py
     â”‚   â”‚   â””â”€â”€ report_writing_a2a_server.py
     â”‚   â””â”€â”€ tools/
     â”‚       â””â”€â”€ mcp_client.py
     â”œâ”€â”€ all-search-mcp/
     â”‚   â”œâ”€â”€ server.py
     â”‚   â””â”€â”€ config.yaml
     â”œâ”€â”€ a2a_client/
     â”‚   â””â”€â”€ unified_research_agent.py
     â””â”€â”€ docker/
         â””â”€â”€ docker-compose.yml

     ğŸš€ êµ¬í˜„ ìˆœì„œ

     1. LangGraph ì—ì´ì „íŠ¸ ê°œë°œ (ë³‘ë ¬ ê°€ëŠ¥)
     2. MCP ì„œë²„ êµ¬í˜„
     3. LangGraph-MCP ì—°ë™
     4. ê°œë³„ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
     5. A2A ì„œë²„ ë˜í•‘
     6. ADK í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„
     7. í†µí•© í…ŒìŠ¤íŠ¸

     ì´ ê³„íšì„ ë”°ë¼ ë‹¨ê³„ì ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âº ê³„íšì´ ìŠ¹ì¸ë˜ì—ˆìœ¼ë‹ˆ ì´ì œ ì‘ì—…ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. ë¨¼ì € Todo ë¦¬ìŠ¤íŠ¸ë¥¼ ë” ì„¸ë¶€ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê² ìŠµë‹ˆë‹¤.